
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Yen's Blog</title>
  <meta name="author" content="Yen Tran">

  
  <meta name="description" content="Map of our hike on the North and South Bubble Mountains When seen from a distance, it&rsquo;s immediately obvious why the Bubbles are so named, &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://dinhyen.github.io/blog/page/5">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Yen's Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="/stylesheets/darkbox.css" rel="stylesheet" type="text/css">
<script src="/javascripts/darkbox.js" type="text/javascript"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-24469490-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Yen's Blog</a></h1>
  
    <h2>Lens, Wheels, Skates, Keyboard</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:dinhyen.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/travel">Travel</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/07/08/acadia-national-park-the-bubbles/">Acadia National Park: The Bubbles</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-07-08T00:00:00-04:00" pubdate data-updated="true">Jul 8<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="https://maps.google.com/maps/ms?msid=214490968088440958659.0004c453c947c3eb5ce5b&amp;msa=0&amp;ll=44.340824,-68.253111&amp;spn=0.007451,0.013089">Map </a>of our hike on the North and South Bubble Mountains</p>

<p>When seen from a distance, it&rsquo;s immediately obvious why the Bubbles are so named, though I&rsquo;m sure you can think of more colorful analogies.  Located just a short distance from the Park Loop Road and the popular Jordan Pond, they&rsquo;re some of the most accessible climbs in the park. Both offer splendid views of Jordan Pond and, in the distance, the islands off the southern coast of Mount Desert Island.</p>

<p>We parked at the trail head of the Bubble Divide Trail, which neatly bisects North and South Bubble.  We ascended South Bubble first.  At only 768&#8217;/238m it doesn&rsquo;t seem like much, but it is quite a bit taller than Gorham Mountain (525&#8217;/163m) and requires a brisk climb.</p>

<p>A bit beyond the summit is the main attraction, Bubble Rock, a gigantic boulder precariously balanced on a ledge on the side of the mountain.</p>

<p><img src='https://dl.dropboxusercontent.com/u/52804626/acadia-bubbles/dsc_5267.jpg' /></p>

<p>The view from the other side is more striking.</p>

<p><img src='https://dl.dropboxusercontent.com/u/52804626/acadia-bubbles/dsc_5281.jpg' /></p>

<p>You can try to move it, but it likely won&rsquo;t budge.</p>

<p><img src='https://dl.dropboxusercontent.com/u/52804626/acadia-bubbles/dsc_5275.jpg' /></p>

<p>The Leaning Rock of South Bubble.</p>

<p><img src='https://dl.dropboxusercontent.com/u/52804626/acadia-bubbles/dsc_5284.jpg' /></p>

<p>My god&hellip; it&rsquo;s full of trees.</p>

<p><img src='https://dl.dropboxusercontent.com/u/52804626/acadia-bubbles/dsc_5293.jpg' /></p>

<p>Next up was North Bubble (872&#8217;/266m).  This dramatic cliff descends to Jordan Pond which can be glimpsed at the corner.</p>

<p><img src='https://dl.dropboxusercontent.com/u/52804626/acadia-bubbles/dsc_5315.jpg' /></p>

<p>As promised the view is lovely.</p>

<p><img src='https://dl.dropboxusercontent.com/u/52804626/acadia-bubbles/dsc_5339.jpg' /></p>

<p>And the return trip is just as scenic. Here&rsquo;s a rock we dubbed &ldquo;Bubble Chunk&rdquo;.</p>

<p><img src='https://dl.dropboxusercontent.com/u/52804626/acadia-bubbles/dsc_5344.jpg' /></p>

<p>The mountain sides are carpeted with trees.  We will have to return in the autumn for the color show.</p>

<p><img src='https://dl.dropboxusercontent.com/u/52804626/acadia-bubbles/dsc_5347.jpg' /></p>

<p>A last look at the Bubble Rock from the Park Loop Road.</p>

<p><img src='https://dl.dropboxusercontent.com/u/52804626/acadia-bubbles/dsc_5502a.jpg' /></p>

<!-- Darkbox -->


<div class="darkbox">
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-bubbles/dsc_5266.jpg" data-darkbox="acadia-bubbles">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-bubbles/thumbs/dsc_5266.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-bubbles/dsc_5267.jpg" data-darkbox="acadia-bubbles">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-bubbles/thumbs/dsc_5267.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-bubbles/dsc_5275.jpg" data-darkbox="acadia-bubbles">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-bubbles/thumbs/dsc_5275.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-bubbles/dsc_5281.jpg" data-darkbox="acadia-bubbles">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-bubbles/thumbs/dsc_5281.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-bubbles/dsc_5284.jpg" data-darkbox="acadia-bubbles">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-bubbles/thumbs/dsc_5284.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-bubbles/dsc_5293.jpg" data-darkbox="acadia-bubbles">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-bubbles/thumbs/dsc_5293.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-bubbles/dsc_5315.jpg" data-darkbox="acadia-bubbles">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-bubbles/thumbs/dsc_5315.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-bubbles/dsc_5339.jpg" data-darkbox="acadia-bubbles">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-bubbles/thumbs/dsc_5339.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-bubbles/dsc_5344.jpg" data-darkbox="acadia-bubbles">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-bubbles/thumbs/dsc_5344.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-bubbles/dsc_5347.jpg" data-darkbox="acadia-bubbles">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-bubbles/thumbs/dsc_5347.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-bubbles/dsc_5502a.jpg" data-darkbox="acadia-bubbles">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-bubbles/thumbs/dsc_5502a.jpg" />
</a>

</div>


<!-- End darkbox -->

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/07/08/acadia-national-park-cadillac-mountain/">Acadia National Park: Cadillac Mountain</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-07-08T00:00:00-04:00" pubdate data-updated="true">Jul 8<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The tallest peak in Acadia and the first place in the continental US to see the morning light, Cadillac Mountain is also the most accessible &mdash; you can just drive there.  Nevertheless, its popularity doesn&rsquo;t detract from its appeal.  Unfortunately we couldn&rsquo;t make it here early enough for sunrise, being worn out from hiking every day. So we had to settle for the &ldquo;other golden hour&rdquo;.  Fortunately with a storm brewing in the distance all afternoon, we were treated to a beautiful sunset.  Our preferred viewing location is the Blue Hills Overlook, which is the last turnoff just below the peak. From here we can get a view of the setting sun unobstructed by the tree line.</p>

<!-- Darkbox -->


<div class="darkbox">
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/dsc_5356.jpg" data-darkbox="acadia-cadillac">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/thumbs/dsc_5356.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/dsc_5358.jpg" data-darkbox="acadia-cadillac">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/thumbs/dsc_5358.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/dsc_5369.jpg" data-darkbox="acadia-cadillac">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/thumbs/dsc_5369.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/dsc_5376.jpg" data-darkbox="acadia-cadillac">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/thumbs/dsc_5376.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/dsc_5377.jpg" data-darkbox="acadia-cadillac">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/thumbs/dsc_5377.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/dsc_5384.jpg" data-darkbox="acadia-cadillac">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/thumbs/dsc_5384.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/dsc_5387.jpg" data-darkbox="acadia-cadillac">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/thumbs/dsc_5387.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/dsc_5389.jpg" data-darkbox="acadia-cadillac">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/thumbs/dsc_5389.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/dsc_5397.jpg" data-darkbox="acadia-cadillac">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/thumbs/dsc_5397.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/dsc_5404.jpg" data-darkbox="acadia-cadillac">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/thumbs/dsc_5404.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/dsc_5410.jpg" data-darkbox="acadia-cadillac">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/thumbs/dsc_5410.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/dsc_5416.jpg" data-darkbox="acadia-cadillac">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/thumbs/dsc_5416.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/dsc_5420.jpg" data-darkbox="acadia-cadillac">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/thumbs/dsc_5420.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/dsc_5427.jpg" data-darkbox="acadia-cadillac">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/thumbs/dsc_5427.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/dsc_5430.jpg" data-darkbox="acadia-cadillac">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/thumbs/dsc_5430.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/dsc_5916.jpg" data-darkbox="acadia-cadillac">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/thumbs/dsc_5916.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/dsc_5918.jpg" data-darkbox="acadia-cadillac">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/thumbs/dsc_5918.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/dsc_5936.jpg" data-darkbox="acadia-cadillac">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/thumbs/dsc_5936.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/dsc_5946.jpg" data-darkbox="acadia-cadillac">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/thumbs/dsc_5946.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/dsc_5957.jpg" data-darkbox="acadia-cadillac">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/thumbs/dsc_5957.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/dsc_5966.jpg" data-darkbox="acadia-cadillac">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-cadillac/thumbs/dsc_5966.jpg" />
</a>

</div>


<!-- End darkbox -->

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/07/05/acadia-national-park-gorham-mountain/">Acadia National Park: Gorham Mountain</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-07-05T00:00:00-04:00" pubdate data-updated="true">Jul 5<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="https://maps.google.com/maps/ms?msid=214490968088440958659.0004c4539d268330218f1&amp;msa=0&amp;ll=44.319534,-68.191431&amp;spn=0.014907,0.027637">Map</a> of our hike on Gorham Mountain Trail.</p>

<p>Because it&rsquo;s the only national park in the northeastern US, I&rsquo;ve visited Acadia National Park several times over the years. But I&rsquo;m a bit mystified that I&rsquo;ve managed to hike it just once, and it was only last year.  I think it is because I&rsquo;ve come here in a large group, for which it&rsquo;s not easy to plan a hike.  Further, there are so many things to do that we&rsquo;ve always managed to find other alternatives.</p>

<p>This time we picked up a Falcon&rsquo;s Guide for Acadia, which suggests no fewer than 70+ hiking routes. We also bought a hiking map, produced by the Friends of Acadia based in Bar Harbor, which proved to much more portable. Both are available at any park gift shop.</p>

<p>Our first hike was Gorham Mountain.  This seems to be one of the more popular trails, with its own parking area on the Park Loop Road just after Thunder Hole.</p>

<p>After a short walk, we came upon to a split in the path.  Beneath an overhanging rock is a plaque, discolored with age, honoring Waldron Bates, an early pioneering trail-builder.  He left his marks on many trails both well known and loved.</p>

<p><img src='https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5120.jpg' alt='dsc_5120' class='ngg-singlepic ngg-center' /></p>

<p>The left path takes us over rather ordinary woodland, but once in a while it comes to a clearing where we get a tantalizing view of the coast below.  Soon we came to a bald top which appears to be the summit, though it turns out to be a false summit which was cleared by fire some time ago.  False or real, the view is spectacular.  Looking south over wide granite ledges, we can see the spit of land that is Otter Cliff.</p>

<p><img src='https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5139.jpg' alt='dsc_5139' /></p>

<p>Due east and below us is the rugged coastline for which Acadia is famous.</p>

<p><img src='https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5197.jpg' alt='dsc_5197' /></p>

<p>Northeast is the ever-popular Sand Beach, which in the summer is hands down the most crowded day-time attraction in the park.</p>

<p><img src='https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5162.jpg' alt='dsc_5162' /></p>

<p>Northward is the dome-shaped Beehive.  Despite its cute moniker, it&rsquo;s one of the more challenging mountains to scale.  You can see hikers gingerly navigating the trail which clings to the precipitous rock face.</p>

<p><img src='https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5171.jpg' alt='dsc_5171' /></p>

<p>Far below we can see what appears to be a lighthouse on its own island.</p>

<p><img src='https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5191.jpg' alt='dsc_5191' /></p>

<p>A yellow biplane buzzes over head.  We wish it&rsquo;d fly closer to the Beehive!</p>

<p><img src='https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5193.jpg' alt='dsc_5193' /></p>

<p>Once we had our fill here, we continued on for about 0.2 mile to the true summit, but being more wooded it offers less expansive views.</p>

<p><img src='https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5187.jpg' alt='dsc_5187' /></p>

<p>On the way back down, we took the other fork, the Cadillac Cliffs path, and were not disappointed. This route is many times more interesting than the one we&rsquo;d taken going up.  True to its name, this path skirts the bottom of a towering cliff with massive rock slabs stacked like so many slices of bread.</p>

<p><img src='https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5208.jpg' /></p>

<p>This particular cliff appears to have been partially submerged in the past, because at the bottom is a smoothly worn &ldquo;sea cave&rdquo;!</p>

<p><img src='https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5227.jpg' /></p>

<p>Sometimes we had to clamber over jagged boulders.</p>

<p><img src='https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5233.jpg' /></p>

<p>Or picked our way among rocks strewn about like pieces of a broken glass.</p>

<p><img src='https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5234.jpg' /></p>

<p>Assistance comes in the form of these iron rungs driven into the rock.  These are a common sight on the more challenging trails.</p>

<p><img src='https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5205.jpg' /></p>

<p>Don&rsquo;t forget to stop and admire rocks shaped like the bow of a ship.</p>

<p><img src='https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5242.jpg' /></p>

<p>The path wends its way between gigantic obstacles.</p>

<p><img src='https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5262.jpg' /></p>

<p>Despite its short length (1.8 mile round-trip between the parking lot and the true summit), the Gorham Mountain trail offers unmatched views and a fun-filled side path for relatively little effort.</p>

<!-- Darkbox -->


<div class="darkbox">
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5120.jpg" data-darkbox="acadia-gorham">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/thumbs/dsc_5120.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5139.jpg" data-darkbox="acadia-gorham">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/thumbs/dsc_5139.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5140.jpg" data-darkbox="acadia-gorham">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/thumbs/dsc_5140.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5162.jpg" data-darkbox="acadia-gorham">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/thumbs/dsc_5162.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5164.jpg" data-darkbox="acadia-gorham">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/thumbs/dsc_5164.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5165.jpg" data-darkbox="acadia-gorham">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/thumbs/dsc_5165.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5167.jpg" data-darkbox="acadia-gorham">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/thumbs/dsc_5167.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5171.jpg" data-darkbox="acadia-gorham">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/thumbs/dsc_5171.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5176.jpg" data-darkbox="acadia-gorham">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/thumbs/dsc_5176.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5178.jpg" data-darkbox="acadia-gorham">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/thumbs/dsc_5178.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5182.jpg" data-darkbox="acadia-gorham">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/thumbs/dsc_5182.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5187.jpg" data-darkbox="acadia-gorham">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/thumbs/dsc_5187.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5190.jpg" data-darkbox="acadia-gorham">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/thumbs/dsc_5190.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5191.jpg" data-darkbox="acadia-gorham">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/thumbs/dsc_5191.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5192.jpg" data-darkbox="acadia-gorham">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/thumbs/dsc_5192.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5193.jpg" data-darkbox="acadia-gorham">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/thumbs/dsc_5193.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5197.jpg" data-darkbox="acadia-gorham">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/thumbs/dsc_5197.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5205.jpg" data-darkbox="acadia-gorham">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/thumbs/dsc_5205.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5208.jpg" data-darkbox="acadia-gorham">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/thumbs/dsc_5208.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5227.jpg" data-darkbox="acadia-gorham">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/thumbs/dsc_5227.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5229.jpg" data-darkbox="acadia-gorham">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/thumbs/dsc_5229.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5231.jpg" data-darkbox="acadia-gorham">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/thumbs/dsc_5231.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5233.jpg" data-darkbox="acadia-gorham">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/thumbs/dsc_5233.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5234.jpg" data-darkbox="acadia-gorham">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/thumbs/dsc_5234.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5235.jpg" data-darkbox="acadia-gorham">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/thumbs/dsc_5235.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5237.jpg" data-darkbox="acadia-gorham">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/thumbs/dsc_5237.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5240.jpg" data-darkbox="acadia-gorham">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/thumbs/dsc_5240.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5242.jpg" data-darkbox="acadia-gorham">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/thumbs/dsc_5242.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/dsc_5262.jpg" data-darkbox="acadia-gorham">
  <img src="https://dl.dropboxusercontent.com/u/52804626/acadia-gorham/thumbs/dsc_5262.jpg" />
</a>

</div>


<!-- End darkbox -->

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/07/05/acadia-national-park-biking-the-carriage-roads/">Acadia National Park: Biking the Carriage Roads</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-07-05T00:00:00-04:00" pubdate data-updated="true">Jul 5<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Another unique feature of Acadia is the extensive system of carriage roads.  Built in the first half of the 20th century by the Rockefeller family for use by horses and carriages, these roads traverse Mount Desert Island and offer unparalleled access to the its interior.  These are possibly the most scenic bike paths anywhere. Due to its length of more than 45 miles, the carriage roads are best experienced on a bicycle. This is the activity that we&rsquo;ve done most often and I&rsquo;m happy to say we&rsquo;ve biked most of the carriage roads here (some are outside the park proper and off-limits to bicycles).</p>

<p>We sometimes bring our own bike, but our preference is to rent a tandem bike from <a href="www.barharborbike.com">Bar Harbor Bike shop</a>.  Not only is it more fun, the tandem makes going up hill much easier.  From the shop, some people take their bikes to the park on an Island Shuttle. The shuttle, which can accommodate regular (not tandem) bikes on a rack mounted on the front, is a free and convenient way to get around the park.  We prefer to bike directly to the park via Duck Brook access road.  We typically make a half-time pit stop at Jordan Pond to have lunch and recharge before making the journey back.  This time we also take a detour to Day Mountain, which is the only mountain whose summit is reached by a carriage road.</p>

<p>Here&rsquo;s a <a href="https://maps.google.com/maps/ms?msid=214490968088440958659.0004c4200155b511f3874&amp;msa=0&amp;ll=44.340425,-68.243294&amp;spn=0.119212,0.127201">map</a> of the route we took.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/06/29/editing-collection-with-linq-to-sql/">Edit Collection With LINQ to SQL</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-06-29T00:00:00-04:00" pubdate data-updated="true">Jun 29<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Let&rsquo;s say for a shopping cart we have an Order entity, a Product entity and an OrderDetails entity which serves as a bridge. The OrderDetails entity has OrderId and ProductId fields to associate products with orders. We also have an Order domain object which is passed from the business logic layer to the repository layer.</p>

<p>Since products can be added or removed from an order, we need to manage the order details for each Order.  We can either update OrderDetails directly in the database or via the Order.OrderDetails collection.</p>

<h3>Deleting</h3>

<p>When handling deletions, we can determine products removed from the order (i.e., products which are present in the database object but not in the domain object) as follows:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="kt">var</span> <span class="n">toDelete</span> <span class="p">=</span>
</span><span class='line'>  <span class="k">from</span> <span class="n">od</span> <span class="k">in</span> <span class="n">order</span><span class="p">.</span><span class="n">OrderDetails</span>
</span><span class='line'>  <span class="k">where</span> <span class="p">!</span><span class="n">domainOrder</span><span class="p">.</span><span class="n">OrderDetails</span><span class="p">.</span><span class="n">Any</span><span class="p">(</span><span class="n">o</span> <span class="p">=&gt;</span> <span class="n">o</span><span class="p">.</span><span class="n">ProductId</span> <span class="p">==</span> <span class="n">od</span><span class="p">.</span><span class="n">ProductId</span><span class="p">)</span>
</span><span class='line'>  <span class="k">select</span> <span class="n">od</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Deleting the order details directly from the database works:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="n">DataContext</span><span class="p">.</span><span class="n">OrderDetails</span><span class="p">.</span><span class="n">DeleteAllOnSubmit</span><span class="p">(</span><span class="n">toDelete</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>However, trying to delete the order details using the Order.OrderDetails collection removes only the relationship between Order and OrderDetails.  This would fail because of the foreign key constraint.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">item</span> <span class="k">in</span> <span class="n">toDelete</span><span class="p">)</span>
</span><span class='line'>     <span class="n">order</span><span class="p">.</span><span class="n">OrderDetails</span><span class="p">.</span><span class="n">Remove</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Adding</h3>

<p>When handling additions, we can determine products added to the order (i.e., products which are present in the domain order object but not in the database order object) as follows:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="kt">var</span> <span class="n">toAdd</span> <span class="p">=</span>
</span><span class='line'>  <span class="k">from</span> <span class="n">od</span> <span class="k">in</span> <span class="n">domainOrder</span><span class="p">.</span><span class="n">OrderDetails</span>
</span><span class='line'>  <span class="k">where</span> <span class="p">!</span><span class="n">order</span><span class="p">.</span><span class="n">OrderDetails</span><span class="p">.</span><span class="n">Any</span><span class="p">(</span><span class="n">o</span> <span class="p">=&gt;</span> <span class="n">o</span><span class="p">.</span><span class="n">ProductId</span> <span class="p">==</span> <span class="n">od</span><span class="p">.</span><span class="n">ProductId</span><span class="p">)</span>
</span><span class='line'>  <span class="k">select</span> <span class="k">new</span> <span class="n">OrderDetails</span>
</span><span class='line'>             <span class="p">{</span>
</span><span class='line'>          <span class="n">OrderId</span> <span class="p">=</span> <span class="n">order</span><span class="p">.</span><span class="n">Id</span><span class="p">,</span>
</span><span class='line'>          <span class="n">ProductId</span> <span class="p">=</span> <span class="n">od</span><span class="p">.</span><span class="n">ProductId</span>
</span><span class='line'>             <span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>


<p>Here a different scenario applies.  Adding directly to the database succeeds, but the Order.OrderDetails collection isn&rsquo;t updated to show the added Products.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="n">DataContext</span><span class="p">.</span><span class="n">OrderDetails</span><span class="p">.</span><span class="n">InsertAllOnSubmit</span><span class="p">(</span><span class="n">toAdd</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>To ensure the Order.OrderDetails collection is also up-to-date, we&rsquo;d have to add the order details via the collection.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="n">order</span><span class="p">.</span><span class="n">OrderDetails</span><span class="p">.</span><span class="n">AddRange</span><span class="p">(</span><span class="n">toAdd</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/05/20/the-reformatory-branch-trail/">The Reformatory Branch Trail</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-05-20T00:00:00-04:00" pubdate data-updated="true">May 20<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Once you reach the terminus of the Minuteman Bikeway at Bedford Railroad Depot, most people turn around and head back.  It&rsquo;s understandable, because it&rsquo;s a 10.5 mile ride back to Alewife Station in Cambridge.  If I&rsquo;m on a road bike, this is usually a water stop on the way to the northwest suburbs (Concord, Carlisle, Chelmsford, etc).  However, it turns out that there other two other bike paths that start (or end) here.  One is the &ldquo;single-gauge trail&rdquo;, which is a gravel path that heads across Bedford toward Chelmsford.  The other is a 5-mile hard-packed dirt trail that terminates near the <a href="http://en.wikipedia.org/wiki/Old_North_Bridge">Old North Bridge</a>, an important site in the American Revolution.  As added bonus, it also runs right by the <a href="/blog/2011/06/great-meadows-national-wildlife-refuge" title="Great Meadows National Wildlife Refuge">Great Meadows National Wildlife Refuge</a>.  The ride is quite scenic, as it winds through forest and swamp and skirts a couple of conservation areas. I have a feeling that we will be getting to know this trail quite well.</p>

<p>The map data was recorded on my GPS tracker, which I exported to GPX format and uploaded to Google Map.</p>

<iframe width="425" height="350" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="http://maps.google.com/maps/ms?t=h&amp;msa=0&amp;msid=214490968088440958659.0004c07c60940a154b825&amp;source=embed&amp;ie=UTF8&amp;ll=42.480422,-71.269512&amp;spn=0.028612,0.054288&amp;output=embed"></iframe>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/05/18/deleting-from-collection-with-linq-to-sql/">Deleting From Collection With LINQ to SQL</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-05-18T00:00:00-04:00" pubdate data-updated="true">May 18<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I ran into an subtle bug today.  Let&rsquo;s say we have a shopping cart page that displays order details and allows the user to remove items from the order.  We retrieve the items in the order with the following:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="kt">var</span> <span class="n">items</span> <span class="p">=</span> <span class="n">DataContext</span><span class="p">.</span><span class="n">Orders</span><span class="p">.</span><span class="n">Single</span><span class="p">(</span><span class="n">o</span> <span class="p">=&gt;</span> <span class="n">o</span><span class="p">.</span><span class="n">Id</span> <span class="p">==</span> <span class="n">orderId</span><span class="p">).</span><span class="n">Items</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>To remove an item from the order, we have the following:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="kt">var</span> <span class="n">itemToDelete</span> <span class="p">=</span> <span class="n">DataContext</span><span class="p">.</span><span class="n">Items</span><span class="p">.</span><span class="n">Single</span><span class="p">(</span><span class="n">i</span> <span class="p">=&gt;</span> <span class="n">i</span><span class="p">.</span><span class="n">Id</span> <span class="p">==</span> <span class="n">itemId</span><span class="p">);</span>
</span><span class='line'><span class="n">DataContext</span><span class="p">.</span><span class="n">Items</span><span class="p">.</span><span class="n">DeleteOnSubmit</span><span class="p">(</span><span class="n">itemToDelete</span><span class="p">);</span>
</span><span class='line'><span class="n">DataContext</span><span class="p">.</span><span class="n">SubmitChanges</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>


<p>It&rsquo;s run-of-the-mill as far as LINQ to SQL goes.  However, we ran into the issue in which an item was still being listed even after it had been deleted.  It turned out that this was caused by how we handled deleting the item. Because we delete the item directly from the database without updating the collection that contains it,  LINQ to SQL presumably doesn&rsquo;t know that the collection has been modified and doesn&rsquo;t re-fetch it from the database, resulting in the collection being out-of-date.</p>

<p>To fix this issue, we can fetch the items directly from the items table:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="kt">var</span> <span class="n">items</span> <span class="p">=</span> <span class="n">DataContext</span><span class="p">.</span><span class="n">Items</span><span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">i</span> <span class="p">=&gt;</span> <span class="n">i</span><span class="p">.</span><span class="n">OrderId</span> <span class="p">==</span> <span class="n">orderId</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Alternatively, we can remove the item from the collection prior to deleting it.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="kt">var</span> <span class="n">itemToDelete</span> <span class="p">=</span> <span class="n">DataContext</span><span class="p">.</span><span class="n">Items</span><span class="p">.</span><span class="n">Single</span><span class="p">(</span><span class="n">i</span> <span class="p">=&gt;</span> <span class="n">i</span><span class="p">.</span><span class="n">Id</span> <span class="p">==</span> <span class="n">itemId</span><span class="p">);</span>
</span><span class='line'><span class="n">DataContext</span><span class="p">.</span><span class="n">DataContext</span><span class="p">.</span><span class="n">Orders</span><span class="p">.</span><span class="n">Single</span><span class="p">(</span><span class="n">o</span> <span class="p">=&gt;</span> <span class="n">o</span><span class="p">.</span><span class="n">Id</span> <span class="p">==</span> <span class="n">orderId</span><span class="p">).</span><span class="n">Items</span><span class="p">.</span><span class="n">Remove</span><span class="p">(</span><span class="n">itemToDelete</span><span class="p">);</span>
</span><span class='line'><span class="n">DataContext</span><span class="p">.</span><span class="n">Items</span><span class="p">.</span><span class="n">DeleteOnSubmit</span><span class="p">(</span><span class="n">itemToDelete</span><span class="p">);</span>
</span><span class='line'><span class="n">DataContext</span><span class="p">.</span><span class="n">SubmitChanges</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/05/11/modifying-config-file-in-an-msbuild-project/">Modifying .config File in an MSBuild Project</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-05-11T00:00:00-04:00" pubdate data-updated="true">May 11<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>We use <a href="http://hudson-ci.org">Hudson</a> to deploy our web application to different environments such as QA, demo and production. We need to customize the web.config, primarily the database connection string, for each environment . Previously we had to maintain multiple copies of the web.config and copy the appropriate one for each deployment destination.  Obviously keeping around different versions of the same file is far from ideal.</p>

<p>As an improvement, we decide to keep a single web.config and modify the connection string on the fly during deployment.  Fortunately, MSBuild provides the tasks to do just this.  XmlPeek reads from and XmlPoke modifies the content of an XML file using XPath syntax.</p>

<p>The XmlPeek and XmlPoke tasks are available with MSBuild 4.0.  Unfortunately we are constrained to using MSBuild 3.5, so we had to add the following references to the MSBuild project.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;UsingTask</span> <span class="na">TaskName=</span><span class="s">&quot;Microsoft.Build.Tasks.XmlPeek&quot;</span> <span class="na">AssemblyName=</span><span class="s">&quot;Microsoft.Build.Tasks.v4.0, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;UsingTask</span> <span class="na">TaskName=</span><span class="s">&quot;Microsoft.Build.Tasks.XmlPoke&quot;</span> <span class="na">AssemblyName=</span><span class="s">&quot;Microsoft.Build.Tasks.v4.0, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a&quot;</span><span class="nt">/&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Our connection string is stored in the typical manner in the web.config:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;configuration&gt;</span>
</span><span class='line'>  <span class="nt">&lt;connectionStrings&gt;</span>
</span><span class='line'>    <span class="nt">&lt;add</span> <span class="na">name=</span><span class="s">&quot;MyAppConnectionString&quot;</span> <span class="na">connectionString=</span><span class="s">&quot;Data Source=default;Initial Catalog=default;Integrated Security=SSPI;&quot;</span>
</span><span class='line'>      <span class="na">providerName=</span><span class="s">&quot;System.Data.SqlClient&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/connectionStrings&gt;</span>
</span><span class='line'><span class="nt">&lt;/configuration&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>We pass in the new value of the connection string as a project parameter named MyConnectionString, which Hudson turns into an environment variable named <code>$(MyConnectionString)</code>.  We make it a project parameter so that it can be modified as needed by IT without help from development.  The connection string has to be URL-encoded; for example, semicolons must be replaced by <code>%3B</code> as shown below.</p>

<p><img src="https://dl.dropboxusercontent.com/u/52804626/images/hudson-conn-string.png" title="hudson-conn-string" width="739" height="128" class="aligncenter size-full wp-image-1148" /></p>

<p>The following snippets read and replace the value of the connection string.  The XPath query returns the connection string attribute for any node which has the name attribute of MyAppConnectionString.  Note that the XML namespace must be HTML-encoded. We don&rsquo;t need the value of the existing connection string, but can use it for logging purpose.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;PropertyGroup&gt;</span>
</span><span class='line'>  <span class="nt">&lt;WebConfig&gt;</span>c:\builds\MyApp\Web.config<span class="nt">&lt;/WebConfig&gt;</span>
</span><span class='line'><span class="nt">&lt;/PropertyGroup&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;Target</span> <span class="na">Name=</span><span class="s">&quot;ReadWebConfig&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>  <span class="nt">&lt;XmlPeek</span> <span class="na">Namespaces=</span><span class="s">&quot;&amp;lt;Namespace Prefix=&#39;msb&#39; Uri=&#39;http://schemas.microsoft.com/developer/msbuild/2003&#39;/&amp;gt;&quot;</span>
</span><span class='line'>      <span class="na">XmlInputPath=</span><span class="s">&quot;$(WebConfig)&quot;</span>
</span><span class='line'>      <span class="na">Query=</span><span class="s">&quot;//add[@name=&#39;MyAppConnectionString&#39;]/@connectionString&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;Output</span> <span class="na">TaskParameter=</span><span class="s">&quot;Result&quot;</span> <span class="na">ItemName=</span><span class="s">&quot;Peeked&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/XmlPeek&gt;</span>
</span><span class='line'>  <span class="nt">&lt;Message</span> <span class="na">Text=</span><span class="s">&quot;@(Peeked)&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;/Target&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;Target</span> <span class="na">Name=</span><span class="s">&quot;UpdateWebConfig&quot;</span>  <span class="na">Condition=</span><span class="s">&quot; &#39;$(MyAppConnectionString)&#39; != &#39;&#39; &quot;</span><span class="nt">&gt;</span>
</span><span class='line'>  <span class="nt">&lt;XmlPoke</span> <span class="na">Namespaces=</span><span class="s">&quot;&amp;lt;Namespace Prefix=&#39;msb&#39; Uri=&#39;http://schemas.microsoft.com/developer/msbuild/2003&#39;/&amp;gt;&quot;</span>
</span><span class='line'>      <span class="na">XmlInputPath=</span><span class="s">&quot;$(WebConfig)&quot;</span>
</span><span class='line'>      <span class="na">Query=</span><span class="s">&quot;//add[@name=&#39;MyAppConnectionString&#39;]/@connectionString&quot;</span>
</span><span class='line'>      <span class="na">Value=</span><span class="s">&quot;$(MyAppConnectionString)&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;/Target&gt;</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/05/10/backing-up-your-site-with-vdeck/">Backing Up Your Site With VDeck</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-05-10T00:00:00-04:00" pubdate data-updated="true">May 10<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I don&rsquo;t think anyone would argue that regularly backing up data is a good idea.  At the same time, most people including myself don&rsquo;t do so nearly often enough.  Fortunately, the VDeck control panel provided by my web host helps make backing up and restoring data a cinch.</p>

<p>To back up my Wordpress blog, I need to back up both the files and the MySQL database.  To back up files, use the Archive Gateway.</p>

<p><img title="vdeck-1" src="https://dl.dropboxusercontent.com/u/52804626/images/vdeck-1.png" width="695" height="190" /></p>

<p>The Archive Gateway lets you create an archive of one or more folders, which you can retrieve by FTP.  Downloading a single large file is a lot faster than downloading hundreds of small files.  This page also lets you restore files from an archive.</p>

<p><img title="vdeck-2" src="https://dl.dropboxusercontent.com/u/52804626/images/vdeck-2.png" width="643" height="528" /></p>

<p>To back up the database, use the MySQL Database tool.</p>

<p><img title="vdeck-3" src="https://dl.dropboxusercontent.com/u/52804626/images/vdeck-3.png" width="695" height="190" /></p>

<p>On the Backup tab, you can create a backup for an entire database or for individual tables.</p>

<p><img title="vdeck-4" src="https://dl.dropboxusercontent.com/u/52804626/images/vdeck-4.png" width="756" height="425" /></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/04/04/berkshires-2010/">Berkshires 2010</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-04-04T00:00:00-04:00" pubdate data-updated="true">Apr 4<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Some highlights during my visit to the Berkshires in the autumn of 2010:</p>

<p>The Cascade (<a href="http://maps.google.com/maps/ms?msa=0&amp;amp;msid=214490968088440958659.0004929eb67eb5032f79a&amp;amp;ie=UTF8&amp;amp;ll=42.516651,-73.214264&amp;amp;spn=0.982862,1.20163&amp;amp;t=h&amp;amp;z=10&amp;amp;vpsrc=1&amp;amp;iwloc=0004929f78dbe3c7fe1fd">map</a>): Trail head begins at the end of a very suburban road.  Very limited street parking (think 2-3 spaces, depending on the skills of the driver).  A short hike takes you over a nice wooden bridge as well as a fallen log-bridge.  The waterfalls drops into a shallow pool at the trail.</p>

<p>Mount Greylock summit (<a href="http://maps.google.com/maps/ms?msa=0&amp;amp;msid=214490968088440958659.0004929eb67eb5032f79a&amp;amp;ie=UTF8&amp;amp;t=h&amp;amp;vpsrc=0&amp;amp;z=10&amp;amp;iwloc=0004929f3564437b92260">map</a>): The foliage on Mount Greylock was past-peak when we were there. Yet the view from the summit was still to-die-for.  Climb to the top of the memorial for an even better look.  The  tower features a lighthouse beacon originally intended for Boston Harbor, but which somehow ended up atop a mountain.</p>

<p><a href="http://www.newenglandwaterfalls.com/waterfall.php?name=March%20Cataract%20Falls">March Cataract Falls</a> (<a href="http://maps.google.com/maps/ms?msa=0&amp;amp;msid=214490968088440958659.0004929eb67eb5032f79a&amp;amp;ie=UTF8&amp;amp;t=h&amp;amp;vpsrc=0&amp;amp;ll=42.788346,-73.214264&amp;amp;spn=0.978578,1.20163&amp;amp;z=10&amp;amp;iwloc=0004929f88481008bdeae">map</a>): Majestic falls on Mount Greylock.</p>

<p><a href="http://www.wrlf.org/properties-trails/trails/the-pine-cobble-trail/">Pine Cobble Trail</a> (<a href="http://maps.google.com/maps/ms?msa=0&amp;amp;msid=214490968088440958659.0004929eb67eb5032f79a&amp;amp;ie=UTF8&amp;amp;ll=42.71638,-73.1855&amp;amp;spn=0.007654,0.010021&amp;amp;t=h&amp;amp;z=17&amp;amp;vpsrc=6&amp;amp;iwloc=0004929f24ca09d1b965c">map</a>): Moderate trail with spectacular view of Williamstown. The north side of the summit offers a stunning lookout as well.</p>

<p>Lenox: Home to Tanglewood and beautiful drives under the arbor of giant trees.</p>

<!-- Darkbox -->


<div class="darkbox">
<a href="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/dsc_4422.jpg" data-darkbox="berkshires-2010">
  <img src="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/thumbs/dsc_4422.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/dsc_4447.jpg" data-darkbox="berkshires-2010">
  <img src="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/thumbs/dsc_4447.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/dsc_4448.jpg" data-darkbox="berkshires-2010">
  <img src="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/thumbs/dsc_4448.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/dsc_4459.jpg" data-darkbox="berkshires-2010">
  <img src="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/thumbs/dsc_4459.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/dsc_4462.jpg" data-darkbox="berkshires-2010">
  <img src="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/thumbs/dsc_4462.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/dsc_4481.jpg" data-darkbox="berkshires-2010">
  <img src="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/thumbs/dsc_4481.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/dsc_4526.jpg" data-darkbox="berkshires-2010">
  <img src="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/thumbs/dsc_4526.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/dsc_4527.jpg" data-darkbox="berkshires-2010">
  <img src="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/thumbs/dsc_4527.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/dsc_4536.jpg" data-darkbox="berkshires-2010">
  <img src="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/thumbs/dsc_4536.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/dsc_4561.jpg" data-darkbox="berkshires-2010">
  <img src="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/thumbs/dsc_4561.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/dsc_4615.jpg" data-darkbox="berkshires-2010">
  <img src="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/thumbs/dsc_4615.jpg" />
</a>

</div>


<!-- End darkbox -->

</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/6/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/4/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Categories</h1>
  <ul id="categories">
    
     
      <li data-category="Photoshop">
        <a href="/blog/categories/photoshop">Photoshop</a> <em>2</em>
      </li>
    
     
      <li data-category="travel">
        <a href="/blog/categories/travel">travel</a> <em>20</em>
      </li>
    
     
      <li data-category="outdoors">
        <a href="/blog/categories/outdoors">outdoors</a> <em>9</em>
      </li>
    
     
      <li data-category="photography">
        <a href="/blog/categories/photography">photography</a> <em>20</em>
      </li>
    
     
      <li data-category="hockey">
        <a href="/blog/categories/hockey">hockey</a> <em>11</em>
      </li>
    
     
      <li data-category="city">
        <a href="/blog/categories/city">city</a> <em>6</em>
      </li>
    
     
      <li data-category="drawing">
        <a href="/blog/categories/drawing">drawing</a> <em>1</em>
      </li>
    
     
      <li data-category="technology">
        <a href="/blog/categories/technology">technology</a> <em>39</em>
      </li>
    
     
      <li data-category="review">
        <a href="/blog/categories/review">review</a> <em>25</em>
      </li>
    
     
      <li data-category="hiking">
        <a href="/blog/categories/hiking">hiking</a> <em>9</em>
      </li>
    
     
      <li data-category="other">
        <a href="/blog/categories/other">other</a> <em>2</em>
      </li>
    
  </ul>
</section>
<script type="text/javascript">
  $(function() {
    var categories = [];
    $('[data-category]').each(function() {
      categories.push(this);
    });
    categories.sort(function (a, b) {
      return a.attributes['data-category'].value.toLowerCase() <= b.attributes['data-category'].value.toLowerCase()
            ? -1 : 1;
    });
    $('#categories').html(categories);
  });
</script>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/03/03/simple-tasks-with-grunt/">Simple Tasks With Grunt</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/02/09/quelques-impressions-sur-la-culture-francaise/">Quelques Impressions Sur La Culture Française</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/02/07/my-git-cheat-sheet/">My Git Cheat Sheet</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/02/07/sports-i-would-watch/">Sports I Would Watch</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/12/07/using-angular-root-scope-for-communication-between-controllers/">Using Angular Root Scope for Communication Between Controllers</a>
      </li>
    
  </ul>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Yen Tran -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
