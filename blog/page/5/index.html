
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Yen's Blog</title>
  <meta name="author" content="Yen Tran">

  
  <meta name="description" content="Once you reach the terminus of the Minuteman Bikeway at Bedford Railroad Depot, most people turn around and head back. It&rsquo;s understandable, &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://dinhyen.github.io/blog/page/5">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Yen's Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="/stylesheets/darkbox.css" rel="stylesheet" type="text/css">
<script src="/javascripts/darkbox.js" type="text/javascript"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-24469490-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Yen's Blog</a></h1>
  
    <h2>Lens, Wheels, Skates, Keyboard</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:dinhyen.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/travel">Travel</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/05/20/the-reformatory-branch-trail/">The Reformatory Branch Trail</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-05-20T00:00:00-04:00" pubdate data-updated="true">May 20<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Once you reach the terminus of the Minuteman Bikeway at Bedford Railroad Depot, most people turn around and head back.  It&rsquo;s understandable, because it&rsquo;s a 10.5 mile ride back to Alewife Station in Cambridge.  If I&rsquo;m on a road bike, this is usually a water stop on the way to the northwest suburbs (Concord, Carlisle, Chelmsford, etc).  However, it turns out that there other two other bike paths that start (or end) here.  One is the &ldquo;single-gauge trail&rdquo;, which is a gravel path that heads across Bedford toward Chelmsford.  The other is a 5-mile hard-packed dirt trail that terminates near the <a href="http://en.wikipedia.org/wiki/Old_North_Bridge">Old North Bridge</a>, an important site in the American Revolution.  As added bonus, it also runs right by the <a href="/blog/2011/06/great-meadows-national-wildlife-refuge" title="Great Meadows National Wildlife Refuge">Great Meadows National Wildlife Refuge</a>.  The ride is quite scenic, as it winds through forest and swamp and skirts a couple of conservation areas. I have a feeling that we will be getting to know this trail quite well.</p>

<p>The map data was recorded on my GPS tracker, which I exported to GPX format and uploaded to Google Map.</p>

<iframe width="425" height="350" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="http://maps.google.com/maps/ms?t=h&amp;msa=0&amp;msid=214490968088440958659.0004c07c60940a154b825&amp;source=embed&amp;ie=UTF8&amp;ll=42.480422,-71.269512&amp;spn=0.028612,0.054288&amp;output=embed"></iframe>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/05/18/deleting-from-collection-with-linq-to-sql/">Deleting From Collection With LINQ to SQL</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-05-18T00:00:00-04:00" pubdate data-updated="true">May 18<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I ran into an subtle bug today.  Let&rsquo;s say we have a shopping cart page that displays order details and allows the user to remove items from the order.  We retrieve the items in the order with the following:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="kt">var</span> <span class="n">items</span> <span class="p">=</span> <span class="n">DataContext</span><span class="p">.</span><span class="n">Orders</span><span class="p">.</span><span class="n">Single</span><span class="p">(</span><span class="n">o</span> <span class="p">=&gt;</span> <span class="n">o</span><span class="p">.</span><span class="n">Id</span> <span class="p">==</span> <span class="n">orderId</span><span class="p">).</span><span class="n">Items</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>To remove an item from the order, we have the following:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="kt">var</span> <span class="n">itemToDelete</span> <span class="p">=</span> <span class="n">DataContext</span><span class="p">.</span><span class="n">Items</span><span class="p">.</span><span class="n">Single</span><span class="p">(</span><span class="n">i</span> <span class="p">=&gt;</span> <span class="n">i</span><span class="p">.</span><span class="n">Id</span> <span class="p">==</span> <span class="n">itemId</span><span class="p">);</span>
</span><span class='line'><span class="n">DataContext</span><span class="p">.</span><span class="n">Items</span><span class="p">.</span><span class="n">DeleteOnSubmit</span><span class="p">(</span><span class="n">itemToDelete</span><span class="p">);</span>
</span><span class='line'><span class="n">DataContext</span><span class="p">.</span><span class="n">SubmitChanges</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>


<p>It&rsquo;s run-of-the-mill as far as LINQ to SQL goes.  However, we ran into the issue in which an item was still being listed even after it had been deleted.  It turned out that this was caused by how we handled deleting the item. Because we delete the item directly from the database without updating the collection that contains it,  LINQ to SQL presumably doesn&rsquo;t know that the collection has been modified and doesn&rsquo;t re-fetch it from the database, resulting in the collection being out-of-date.</p>

<p>To fix this issue, we can fetch the items directly from the items table:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="kt">var</span> <span class="n">items</span> <span class="p">=</span> <span class="n">DataContext</span><span class="p">.</span><span class="n">Items</span><span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">i</span> <span class="p">=&gt;</span> <span class="n">i</span><span class="p">.</span><span class="n">OrderId</span> <span class="p">==</span> <span class="n">orderId</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Alternatively, we can remove the item from the collection prior to deleting it.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="kt">var</span> <span class="n">itemToDelete</span> <span class="p">=</span> <span class="n">DataContext</span><span class="p">.</span><span class="n">Items</span><span class="p">.</span><span class="n">Single</span><span class="p">(</span><span class="n">i</span> <span class="p">=&gt;</span> <span class="n">i</span><span class="p">.</span><span class="n">Id</span> <span class="p">==</span> <span class="n">itemId</span><span class="p">);</span>
</span><span class='line'><span class="n">DataContext</span><span class="p">.</span><span class="n">DataContext</span><span class="p">.</span><span class="n">Orders</span><span class="p">.</span><span class="n">Single</span><span class="p">(</span><span class="n">o</span> <span class="p">=&gt;</span> <span class="n">o</span><span class="p">.</span><span class="n">Id</span> <span class="p">==</span> <span class="n">orderId</span><span class="p">).</span><span class="n">Items</span><span class="p">.</span><span class="n">Remove</span><span class="p">(</span><span class="n">itemToDelete</span><span class="p">);</span>
</span><span class='line'><span class="n">DataContext</span><span class="p">.</span><span class="n">Items</span><span class="p">.</span><span class="n">DeleteOnSubmit</span><span class="p">(</span><span class="n">itemToDelete</span><span class="p">);</span>
</span><span class='line'><span class="n">DataContext</span><span class="p">.</span><span class="n">SubmitChanges</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/05/11/modifying-config-file-in-an-msbuild-project/">Modifying .config File in an MSBuild Project</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-05-11T00:00:00-04:00" pubdate data-updated="true">May 11<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>We use <a href="http://hudson-ci.org">Hudson</a> to deploy our web application to different environments such as QA, demo and production. We need to customize the web.config, primarily the database connection string, for each environment . Previously we had to maintain multiple copies of the web.config and copy the appropriate one for each deployment destination.  Obviously keeping around different versions of the same file is far from ideal.</p>

<p>As an improvement, we decide to keep a single web.config and modify the connection string on the fly during deployment.  Fortunately, MSBuild provides the tasks to do just this.  XmlPeek reads from and XmlPoke modifies the content of an XML file using XPath syntax.</p>

<p>The XmlPeek and XmlPoke tasks are available with MSBuild 4.0.  Unfortunately we are constrained to using MSBuild 3.5, so we had to add the following references to the MSBuild project.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;UsingTask</span> <span class="na">TaskName=</span><span class="s">&quot;Microsoft.Build.Tasks.XmlPeek&quot;</span> <span class="na">AssemblyName=</span><span class="s">&quot;Microsoft.Build.Tasks.v4.0, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;UsingTask</span> <span class="na">TaskName=</span><span class="s">&quot;Microsoft.Build.Tasks.XmlPoke&quot;</span> <span class="na">AssemblyName=</span><span class="s">&quot;Microsoft.Build.Tasks.v4.0, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a&quot;</span><span class="nt">/&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Our connection string is stored in the typical manner in the web.config:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;configuration&gt;</span>
</span><span class='line'>  <span class="nt">&lt;connectionStrings&gt;</span>
</span><span class='line'>    <span class="nt">&lt;add</span> <span class="na">name=</span><span class="s">&quot;MyAppConnectionString&quot;</span> <span class="na">connectionString=</span><span class="s">&quot;Data Source=default;Initial Catalog=default;Integrated Security=SSPI;&quot;</span>
</span><span class='line'>      <span class="na">providerName=</span><span class="s">&quot;System.Data.SqlClient&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/connectionStrings&gt;</span>
</span><span class='line'><span class="nt">&lt;/configuration&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>We pass in the new value of the connection string as a project parameter named MyConnectionString, which Hudson turns into an environment variable named <code>$(MyConnectionString)</code>.  We make it a project parameter so that it can be modified as needed by IT without help from development.  The connection string has to be URL-encoded; for example, semicolons must be replaced by <code>%3B</code> as shown below.</p>

<p><img src="https://dl.dropboxusercontent.com/u/52804626/images/hudson-conn-string.png" title="hudson-conn-string" width="739" height="128" class="aligncenter size-full wp-image-1148" /></p>

<p>The following snippets read and replace the value of the connection string.  The XPath query returns the connection string attribute for any node which has the name attribute of MyAppConnectionString.  Note that the XML namespace must be HTML-encoded. We don&rsquo;t need the value of the existing connection string, but can use it for logging purpose.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;PropertyGroup&gt;</span>
</span><span class='line'>  <span class="nt">&lt;WebConfig&gt;</span>c:\builds\MyApp\Web.config<span class="nt">&lt;/WebConfig&gt;</span>
</span><span class='line'><span class="nt">&lt;/PropertyGroup&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;Target</span> <span class="na">Name=</span><span class="s">&quot;ReadWebConfig&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>  <span class="nt">&lt;XmlPeek</span> <span class="na">Namespaces=</span><span class="s">&quot;&amp;lt;Namespace Prefix=&#39;msb&#39; Uri=&#39;http://schemas.microsoft.com/developer/msbuild/2003&#39;/&amp;gt;&quot;</span>
</span><span class='line'>      <span class="na">XmlInputPath=</span><span class="s">&quot;$(WebConfig)&quot;</span>
</span><span class='line'>      <span class="na">Query=</span><span class="s">&quot;//add[@name=&#39;MyAppConnectionString&#39;]/@connectionString&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;Output</span> <span class="na">TaskParameter=</span><span class="s">&quot;Result&quot;</span> <span class="na">ItemName=</span><span class="s">&quot;Peeked&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/XmlPeek&gt;</span>
</span><span class='line'>  <span class="nt">&lt;Message</span> <span class="na">Text=</span><span class="s">&quot;@(Peeked)&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;/Target&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;Target</span> <span class="na">Name=</span><span class="s">&quot;UpdateWebConfig&quot;</span>  <span class="na">Condition=</span><span class="s">&quot; &#39;$(MyAppConnectionString)&#39; != &#39;&#39; &quot;</span><span class="nt">&gt;</span>
</span><span class='line'>  <span class="nt">&lt;XmlPoke</span> <span class="na">Namespaces=</span><span class="s">&quot;&amp;lt;Namespace Prefix=&#39;msb&#39; Uri=&#39;http://schemas.microsoft.com/developer/msbuild/2003&#39;/&amp;gt;&quot;</span>
</span><span class='line'>      <span class="na">XmlInputPath=</span><span class="s">&quot;$(WebConfig)&quot;</span>
</span><span class='line'>      <span class="na">Query=</span><span class="s">&quot;//add[@name=&#39;MyAppConnectionString&#39;]/@connectionString&quot;</span>
</span><span class='line'>      <span class="na">Value=</span><span class="s">&quot;$(MyAppConnectionString)&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;/Target&gt;</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/05/10/backing-up-your-site-with-vdeck/">Backing Up Your Site With VDeck</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-05-10T00:00:00-04:00" pubdate data-updated="true">May 10<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I don&rsquo;t think anyone would argue that regularly backing up data is a good idea.  At the same time, most people including myself don&rsquo;t do so nearly often enough.  Fortunately, the VDeck control panel provided by my web host helps make backing up and restoring data a cinch.</p>

<p>To back up my Wordpress blog, I need to back up both the files and the MySQL database.  To back up files, use the Archive Gateway.</p>

<p><img title="vdeck-1" src="https://dl.dropboxusercontent.com/u/52804626/images/vdeck-1.png" width="695" height="190" /></p>

<p>The Archive Gateway lets you create an archive of one or more folders, which you can retrieve by FTP.  Downloading a single large file is a lot faster than downloading hundreds of small files.  This page also lets you restore files from an archive.</p>

<p><img title="vdeck-2" src="https://dl.dropboxusercontent.com/u/52804626/images/vdeck-2.png" width="643" height="528" /></p>

<p>To back up the database, use the MySQL Database tool.</p>

<p><img title="vdeck-3" src="https://dl.dropboxusercontent.com/u/52804626/images/vdeck-3.png" width="695" height="190" /></p>

<p>On the Backup tab, you can create a backup for an entire database or for individual tables.</p>

<p><img title="vdeck-4" src="https://dl.dropboxusercontent.com/u/52804626/images/vdeck-4.png" width="756" height="425" /></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/04/04/berkshires-2010/">Berkshires 2010</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-04-04T00:00:00-04:00" pubdate data-updated="true">Apr 4<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Some highlights during my visit to the Berkshires in the autumn of 2010:</p>

<p>The Cascade (<a href="http://maps.google.com/maps/ms?msa=0&amp;amp;msid=214490968088440958659.0004929eb67eb5032f79a&amp;amp;ie=UTF8&amp;amp;ll=42.516651,-73.214264&amp;amp;spn=0.982862,1.20163&amp;amp;t=h&amp;amp;z=10&amp;amp;vpsrc=1&amp;amp;iwloc=0004929f78dbe3c7fe1fd">map</a>): Trail head begins at the end of a very suburban road.  Very limited street parking (think 2-3 spaces, depending on the skills of the driver).  A short hike takes you over a nice wooden bridge as well as a fallen log-bridge.  The waterfalls drops into a shallow pool at the trail.</p>

<p>Mount Greylock summit (<a href="http://maps.google.com/maps/ms?msa=0&amp;amp;msid=214490968088440958659.0004929eb67eb5032f79a&amp;amp;ie=UTF8&amp;amp;t=h&amp;amp;vpsrc=0&amp;amp;z=10&amp;amp;iwloc=0004929f3564437b92260">map</a>): The foliage on Mount Greylock was past-peak when we were there. Yet the view from the summit was still to-die-for.  Climb to the top of the memorial for an even better look.  The  tower features a lighthouse beacon originally intended for Boston Harbor, but which somehow ended up atop a mountain.</p>

<p><a href="http://www.newenglandwaterfalls.com/waterfall.php?name=March%20Cataract%20Falls">March Cataract Falls</a> (<a href="http://maps.google.com/maps/ms?msa=0&amp;amp;msid=214490968088440958659.0004929eb67eb5032f79a&amp;amp;ie=UTF8&amp;amp;t=h&amp;amp;vpsrc=0&amp;amp;ll=42.788346,-73.214264&amp;amp;spn=0.978578,1.20163&amp;amp;z=10&amp;amp;iwloc=0004929f88481008bdeae">map</a>): Majestic falls on Mount Greylock.</p>

<p><a href="http://www.wrlf.org/properties-trails/trails/the-pine-cobble-trail/">Pine Cobble Trail</a> (<a href="http://maps.google.com/maps/ms?msa=0&amp;amp;msid=214490968088440958659.0004929eb67eb5032f79a&amp;amp;ie=UTF8&amp;amp;ll=42.71638,-73.1855&amp;amp;spn=0.007654,0.010021&amp;amp;t=h&amp;amp;z=17&amp;amp;vpsrc=6&amp;amp;iwloc=0004929f24ca09d1b965c">map</a>): Moderate trail with spectacular view of Williamstown. The north side of the summit offers a stunning lookout as well.</p>

<p>Lenox: Home to Tanglewood and beautiful drives under the arbor of giant trees.</p>

<!-- Darkbox -->


<div class="darkbox">
<a href="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/dsc_4422.jpg" data-darkbox="berkshires-2010">
  <img src="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/thumbs/dsc_4422.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/dsc_4447.jpg" data-darkbox="berkshires-2010">
  <img src="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/thumbs/dsc_4447.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/dsc_4448.jpg" data-darkbox="berkshires-2010">
  <img src="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/thumbs/dsc_4448.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/dsc_4459.jpg" data-darkbox="berkshires-2010">
  <img src="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/thumbs/dsc_4459.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/dsc_4462.jpg" data-darkbox="berkshires-2010">
  <img src="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/thumbs/dsc_4462.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/dsc_4481.jpg" data-darkbox="berkshires-2010">
  <img src="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/thumbs/dsc_4481.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/dsc_4526.jpg" data-darkbox="berkshires-2010">
  <img src="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/thumbs/dsc_4526.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/dsc_4527.jpg" data-darkbox="berkshires-2010">
  <img src="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/thumbs/dsc_4527.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/dsc_4536.jpg" data-darkbox="berkshires-2010">
  <img src="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/thumbs/dsc_4536.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/dsc_4561.jpg" data-darkbox="berkshires-2010">
  <img src="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/thumbs/dsc_4561.jpg" />
</a>
<a href="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/dsc_4615.jpg" data-darkbox="berkshires-2010">
  <img src="https://dl.dropboxusercontent.com/u/52804626/berkshires-2010/thumbs/dsc_4615.jpg" />
</a>

</div>


<!-- End darkbox -->

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/04/03/stack-overflow-exception-when-mvc-view-and-partial-view-have-the-same-name/">Stack Overflow Exception When MVC View and Partial View Have the Same Name</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-04-03T00:00:00-04:00" pubdate data-updated="true">Apr 3<span>rd</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This scenario is probably unusual but it did happen to me. I had a view named Foo.aspx and partial view named Foo.ascx. The view rendered the partial as follows:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="p">&lt;%</span> <span class="n">Html</span><span class="p">.</span><span class="n">RenderPartial</span><span class="p">(</span><span class="s">&quot;Foo&quot;</span><span class="p">);</span> <span class="p">%&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>When attempting to load the view, ASP.NET spins for a while then eventually throws a stack overflow exception. Apparently when executing the above statement, MVC searches for files named &ldquo;Foo&rdquo;, including the view itself. It must have attempted to render the view and gone into a recursive loop.</p>

<p>The quick fix is to give the partial view some other name, or explicitly provide its location in the render statement:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="p">&lt;%</span> <span class="n">Html</span><span class="p">.</span><span class="n">RenderPartial</span><span class="p">(</span><span class="s">&quot;~/Views/Home/Foo.ascx&quot;</span><span class="p">);</span> <span class="p">%&gt;</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/04/03/mapping-pagedlist-with-automapper/">Mapping PagedList With AutoMapper</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-04-03T00:00:00-04:00" pubdate data-updated="true">Apr 3<span>rd</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&rsquo;m using an implementation of PagedList based on that <a href="http://wekeroad.com/2007/12/10/aspnet-mvc-pagedlistt/">given by Rob Conery</a>.</p>

<p>I want to convert a paged list of business objects to a paged list of view model objects with <a href="http://automapper.org/">AutoMapper</a>. In order for AutoMapper to work in this case, it needs to know how to convert a paged list.  This can be done with a <a href="https://github.com/AutoMapper/AutoMapper/wiki/Custom-type-converters">custom type converter</a>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">public</span> <span class="k">class</span> <span class="nc">PagedListConverter</span> <span class="p">:</span> <span class="n">ITypeConverter</span><span class="p">&lt;</span><span class="n">PagedList</span><span class="p">&lt;</span><span class="n">Person</span><span class="p">&gt;,</span> <span class="n">PagedList</span><span class="p">&lt;</span><span class="n">PersonViewModel</span><span class="p">&gt;&gt;</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>   <span class="k">public</span> <span class="n">PagedList</span><span class="p">&lt;</span><span class="n">PersonViewModel</span><span class="p">&gt;</span> <span class="n">Convert</span><span class="p">(</span><span class="n">ResolutionContext</span> <span class="n">context</span><span class="p">)</span>
</span><span class='line'>   <span class="p">{</span>
</span><span class='line'>      <span class="kt">var</span> <span class="n">models</span> <span class="p">=</span> <span class="p">(</span><span class="n">PagedList</span><span class="p">&lt;</span><span class="n">Person</span><span class="p">&gt;)</span><span class="n">context</span><span class="p">.</span><span class="n">SourceValue</span><span class="p">;</span>
</span><span class='line'>      <span class="kt">var</span> <span class="n">viewModels</span> <span class="p">=</span> <span class="n">models</span><span class="p">.</span><span class="n">Select</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">Mapper</span><span class="p">.</span><span class="n">Map</span><span class="p">&lt;</span><span class="n">Person</span><span class="p">,</span> <span class="n">PersonViewModel</span><span class="p">&gt;(</span><span class="n">p</span><span class="p">)).</span><span class="n">ToList</span><span class="p">();</span>
</span><span class='line'>      <span class="k">return</span> <span class="k">new</span> <span class="n">PagedList</span><span class="p">&lt;</span><span class="n">PersonViewModel</span><span class="p">&gt;(</span><span class="n">viewModels</span><span class="p">,</span> <span class="n">models</span><span class="p">.</span><span class="n">PageIndex</span><span class="p">,</span> <span class="n">models</span><span class="p">.</span><span class="n">PageSize</span><span class="p">);</span>
</span><span class='line'>   <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>To create the mappings:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="n">Mapper</span><span class="p">.</span><span class="n">CreateMap</span><span class="p">&lt;</span><span class="n">Person</span><span class="p">,</span> <span class="n">PersonViewModel</span><span class="p">&gt;();</span>
</span><span class='line'><span class="n">Mapper</span>
</span><span class='line'>   <span class="p">.</span><span class="n">CreateMap</span><span class="p">&lt;</span><span class="n">PagedList</span><span class="p">&lt;</span><span class="n">Person</span><span class="p">&gt;,</span> <span class="n">PagedList</span><span class="p">&lt;</span><span class="n">PersonViewModel</span><span class="p">&gt;&gt;()</span>
</span><span class='line'>   <span class="p">.</span><span class="n">ConvertUsing</span><span class="p">&lt;</span><span class="n">PagedListConverter</span><span class="p">&gt;();</span>
</span></code></pre></td></tr></table></div></figure>


<p>And to perform the mappings with some sample data:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="kt">var</span> <span class="n">persons</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Person</span><span class="p">&gt;</span> <span class="p">{</span>
</span><span class='line'>   <span class="k">new</span> <span class="n">Person</span> <span class="p">{</span> <span class="n">Name</span> <span class="p">=</span> <span class="s">&quot;Luke Skywalker&quot;</span><span class="p">,</span> <span class="n">Phone</span> <span class="p">=</span> <span class="s">&quot;2947-3479&quot;</span> <span class="p">},</span>
</span><span class='line'>   <span class="k">new</span> <span class="n">Person</span> <span class="p">{</span> <span class="n">Name</span> <span class="p">=</span> <span class="s">&quot;Darth Vader&quot;</span><span class="p">,</span> <span class="n">Phone</span> <span class="p">=</span> <span class="s">&quot;2038-3424&quot;</span> <span class="p">}</span>
</span><span class='line'><span class="p">};</span>
</span><span class='line'><span class="kt">var</span> <span class="n">inputList</span> <span class="p">=</span> <span class="k">new</span> <span class="n">PagedList</span><span class="p">&lt;</span><span class="n">Person</span><span class="p">&gt;(</span><span class="n">persons</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">2</span><span class="p">);</span>
</span><span class='line'><span class="kt">var</span> <span class="n">outputList</span> <span class="p">=</span> <span class="n">Mapper</span><span class="p">.</span><span class="n">Map</span><span class="p">&lt;</span><span class="n">PagedList</span><span class="p">&lt;</span><span class="n">Person</span><span class="p">&gt;,</span> <span class="n">PagedList</span><span class="p">&lt;</span><span class="n">PersonViewModel</span><span class="p">&gt;&gt;(</span><span class="n">inputList</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/04/03/locating-program-files-folder-in-Visual-Studio/">Locating Program Files Folder in Visual Studio on 32-bit and X64 Environments</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-04-03T00:00:00-04:00" pubdate data-updated="true">Apr 3<span>rd</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In my Visual Studio project, I want to run an external executable, SQLMetal, in a build event.  The only problem is that the location of the executable depends on whether the machine runs x64 or 32-bit Windows.  It is found in the <code>Program Files (x86)</code> folder on x64 Windows and <code>Program Files</code> on 32-bit Windows. I want to be able to build the project without modification in either environment.</p>

<p>The solution is to specify the location of the Program Files dynamically by inserting the following lines in the .csproj file.  You can either open the .csproj file directly in a text editor or, in Visual Studio, unload the project then right-click and select Edit.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;PropertyGroup&gt;</span>
</span><span class='line'>   <span class="nt">&lt;MyProgramFiles&gt;</span>c:\program files<span class="nt">&lt;/MyProgramFiles&gt;</span>
</span><span class='line'><span class="nt">&lt;/PropertyGroup&gt;</span>
</span><span class='line'><span class="nt">&lt;PropertyGroup</span> <span class="na">Condition=</span><span class="s">&quot;Exists(&#39;c:\program files (x86)&#39;)&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>   <span class="nt">&lt;MyProgramFiles&gt;</span>c:\program files (x86)<span class="nt">&lt;/MyProgramFiles&gt;</span>
</span><span class='line'><span class="nt">&lt;/PropertyGroup&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>The above lines ensure that the <code>$(MyProgramFiles)</code> property is set to <code>c:\program files (x86)</code>
only if it exists on an x64 machine. Otherwise it uses the initial value of <code>c:\program files</code>.</p>

<p>To use the property in a build event:</p>

<pre>
"$(MyProgramFiles)\Microsoft SDKs\Windows\v7.0A\Bin\NETFX 4.0 Tools"\sqlmetal.exe ...
</pre>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/04/03/loading-jquery-from-google-cdn-and-dependent-scripts-in-wordpress-2/">Loading jQuery From Google CDN and Dependent Scripts in WordPress</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-04-03T00:00:00-04:00" pubdate data-updated="true">Apr 3<span>rd</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&rsquo;m using a WordPress theme that loads jQuery and other JavaScripts in the header.php script:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;&lt;?php bloginfo(&#39;template_directory&#39;); ?&gt;/js/jquery-1.4.2.min.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span><span class='line'><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;&lt;?php bloginfo(&#39;template_directory&#39;); ?&gt;/js/jquery.prettyPhoto.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span><span class='line'><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;&lt;?php bloginfo(&#39;template_directory&#39;); ?&gt;/js/custom.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Using Chrome&rsquo;s Developer console (i.e., hit F12) to view the Resources for the page, I could see that jQuery is being loaded.
<img title="jquery-cdn-1" src="https://dl.dropboxusercontent.com/u/52804626/images/jquery-cdn-11.png" width="333" height="279" />
I wanted to load jQuery from Google&rsquo;s Content Delivery Network (<a href="http://encosia.com/3-reasons-why-you-should-let-google-host-jquery-for-you">why</a>?). My initial attempt was to simply change  the jQuery reference to the CDN location (I also upgraded to version 1.7.1 while I was at it):</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>This worked, and Chrome&rsquo;s Developer console showed that jQuery was being loaded from the CDN. However, there was another problem. WordPress apparently also loads jQuery by default, so the page ended up with an extra copy.</p>

<p><img title="jquery-cdn-2" src="https://dl.dropboxusercontent.com/u/52804626/images/jquery-cdn-21.png" width="400" height="415" /></p>

<p>To remove the redundant copy, I removed the jQuery references from the header.php script, then added the following lines to the functions.php script in the theme folder which use WordPress&rsquo;s built-in function <strong>wp_enqueue_script</strong> to ensure that only one copy of jQuery is included.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">function</span> <span class="nf">load_cdn_jQuery</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'> <span class="nx">wp_deregister_script</span><span class="p">(</span> <span class="s1">&#39;jquery&#39;</span> <span class="p">);</span>
</span><span class='line'> <span class="nx">wp_register_script</span><span class="p">(</span><span class="s1">&#39;jquery&#39;</span><span class="p">,</span> <span class="s1">&#39;http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js&#39;</span><span class="p">);</span>
</span><span class='line'> <span class="nx">wp_enqueue_script</span><span class="p">(</span><span class="s1">&#39;jquery&#39;</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="nx">add_action</span><span class="p">(</span><span class="s1">&#39;wp_enqueue_scripts&#39;</span><span class="p">,</span> <span class="s1">&#39;load_cdn_jQuery&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>This worked and only a single copy of jQuery remained. However, the other scripts which depend on jQuery now break because they are being loaded before jQuery.</p>

<p>Following the instructions provided in the <a href="http://codex.wordpress.org/Function_Reference/wp_enqueue_script">wp_enqueue_script reference</a>, I added the following lines to functions.php to ensure that their dependency on jQuery is enforced:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">function</span> <span class="nf">my_scripts_method</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'> <span class="nx">wp_enqueue_script</span><span class="p">(</span>
</span><span class='line'> <span class="s1">&#39;pretty.photo&#39;</span><span class="p">,</span>
</span><span class='line'> <span class="nx">get_template_directory_uri</span><span class="p">()</span> <span class="o">.</span> <span class="s1">&#39;/js/jquery.prettyPhoto.js&#39;</span><span class="p">,</span>
</span><span class='line'> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;jquery&#39;</span><span class="p">)</span>
</span><span class='line'> <span class="p">);</span>
</span><span class='line'> <span class="nx">wp_enqueue_script</span><span class="p">(</span>
</span><span class='line'> <span class="s1">&#39;custom&#39;</span><span class="p">,</span>
</span><span class='line'> <span class="nx">get_template_directory_uri</span><span class="p">()</span> <span class="o">.</span> <span class="s1">&#39;/js/custom.js&#39;</span><span class="p">,</span>
</span><span class='line'> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;jquery&#39;</span><span class="p">)</span>
</span><span class='line'> <span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="nx">add_action</span><span class="p">(</span><span class="s1">&#39;wp_enqueue_scripts&#39;</span><span class="p">,</span> <span class="s1">&#39;my_scripts_method&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>The corresponding references, of course, should be removed from header.php.</p>

<p>Finally, verifying with the Developer console shows that everything is loaded correctly.</p>

<p><img title="jquery-cdn-3" src="https://dl.dropboxusercontent.com/u/52804626/images/jquery-cdn-31.png" width="399" height="414" /></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/03/31/using-lightbox-with-nextgen-gallery/">Using Lightbox With NextGen Gallery</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-03-31T00:00:00-04:00" pubdate data-updated="true">Mar 31<span>st</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In my former Wordpress blog, I used the excellent <a href="http://wordpress.org/extend/plugins/nextgen-gallery/">NextGen plugin</a> to manage images in galleries.  When embedded in a post, the gallery is rendered as thumbnails, whose full-size version  is shown as an overlay when clicked.  I also like to embed inline images so that I can include a caption.  Inline images, however, are still directly linked and not shown as an overlay.  When viewed, it requires an additional click or two to go back to the post.</p>

<p>To make sure that inline images are opened on the same page, I use the <a href="http://wordpress.org/extend/plugins/slimbox/">Slimbox plugin</a>.  This works well, except that now when gallery thumbnails are clicked, two full-sized versions are shown, one by NextGen&rsquo;s built-in effect and one by Slimbox.</p>

<p>To solve this problem, I opened NextGen&rsquo;s options page and locate the Effects tab.  By default, the JavaScript Thumbnail effect is set to Shutter.  I changed it to None (or Lightbox) to ensure that only Slimbox handles the effect (Slimbox is a clone of Lightbox).  The only drawback of not using the Shutter effect is that you can&rsquo;t use Ajax pagination with the gallery if pagination is turned on (as of NextGen 1.9.3).
<img title="nextgen-slimbox" src="https://dl.dropboxusercontent.com/u/52804626/images/nextgen-slimbox.png" width="800" height="578" /></p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/6/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/4/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Categories</h1>
  <ul id="categories">
    
     
      <li data-category="Photoshop">
        <a href="/blog/categories/photoshop">Photoshop</a> <em>2</em>
      </li>
    
     
      <li data-category="travel">
        <a href="/blog/categories/travel">travel</a> <em>20</em>
      </li>
    
     
      <li data-category="outdoors">
        <a href="/blog/categories/outdoors">outdoors</a> <em>9</em>
      </li>
    
     
      <li data-category="photography">
        <a href="/blog/categories/photography">photography</a> <em>20</em>
      </li>
    
     
      <li data-category="hockey">
        <a href="/blog/categories/hockey">hockey</a> <em>10</em>
      </li>
    
     
      <li data-category="city">
        <a href="/blog/categories/city">city</a> <em>6</em>
      </li>
    
     
      <li data-category="drawing">
        <a href="/blog/categories/drawing">drawing</a> <em>1</em>
      </li>
    
     
      <li data-category="technology">
        <a href="/blog/categories/technology">technology</a> <em>36</em>
      </li>
    
     
      <li data-category="review">
        <a href="/blog/categories/review">review</a> <em>25</em>
      </li>
    
     
      <li data-category="hiking">
        <a href="/blog/categories/hiking">hiking</a> <em>9</em>
      </li>
    
     
      <li data-category="other">
        <a href="/blog/categories/other">other</a> <em>1</em>
      </li>
    
  </ul>
</section>
<script type="text/javascript">
  $(function() {
    var categories = [];
    $('[data-category]').each(function() {
      categories.push(this);
    });
    categories.sort(function (a, b) {
      return a.attributes['data-category'].value.toLowerCase() <= b.attributes['data-category'].value.toLowerCase()
            ? -1 : 1;
    });
    $('#categories').html(categories);
  });
</script>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/11/23/updating-sql-server-primary-key/">Updating SQL Server Primary Key</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/11/19/top-10-archive/">Top 10 Archive</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/11/18/so-long-wordpress-hello-octopress/">So Long WordPress, Hello Octopress</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/11/13/sigma-50mm-lens/">Sigma 50mm f/1.4 Lens for Nikon AF</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/11/02/fixing-windows-media-center-no-tuner-available-error-with-hdhomerun-prime/">Fixing Windows Media Center No Tuner Available Error With HDHomeRun Prime</a>
      </li>
    
  </ul>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Yen Tran -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
